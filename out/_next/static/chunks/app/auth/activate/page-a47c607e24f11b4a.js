(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5327],{31886:(t,e,r)=>{"use strict";r.d(e,{$2:()=>i,FH:()=>l,Gs:()=>n,He:()=>c,_z:()=>d,aR:()=>u,kg:()=>o,lH:()=>h});var a=r(23464),s=r(53999);let o=async t=>{try{let e=await a.A.post("http://localhost:8000/users",{...t,id:(0,s.$C)(6),is_active:!1,is_verified:!1,wallet_balance:0,school_year:(0,s.Vy)(t.school_year),created_at:new Date().toISOString(),notes_id:(0,s.$C)(4),tasks_id:(0,s.$C)(4)}),r=await a.A.post("http://localhost:8000/notes",{id:(0,s.$C)(4),user_id:e.data.id,notes:[]}),o=await a.A.post("http://localhost:8000/tasks",{id:(0,s.$C)(4),user_id:e.data.id,tasks:[]});return console.log(e.data),console.log(r.data),console.log(o.data),e.data}catch(t){return console.error(t),null}},c=async t=>{try{return(await a.A.patch("http://localhost:8000/users/".concat(t),{is_active:!0})).data}catch(t){return console.error(t),null}},n=async t=>{try{return(await a.A.get("http://localhost:8000/users?email=".concat(t))).data[0].id}catch(t){return console.error(t),null}},l=async(t,e,r)=>{try{let t=await a.A.patch("http://localhost:8000/users/".concat(r),{is_verified:!0});console.log(t.data)}catch(t){return console.error(t),null}},u=async t=>{try{return(await a.A.get("http://localhost:8000/courses?id=".concat(t))).data[0]}catch(t){console.error(t);return}},i=async t=>{try{if(""===t)return;return(await a.A.get("http://localhost:8000/users?id=".concat(t,"&role=teacher"))).data[0]}catch(t){console.error(t);return}},h=async t=>{try{return(await a.A.get("http://localhost:8000/enrollments?user_id=".concat(t))).data}catch(t){return console.error(t),null}},d=async t=>{try{return(await a.A.post("http://localhost:8000/messages",t)).data}catch(t){return console.error(t),null}}},32936:(t,e,r)=>{Promise.resolve().then(r.bind(r,89892))},35695:(t,e,r)=>{"use strict";var a=r(18999);r.o(a,"usePathname")&&r.d(e,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(e,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(e,{useSearchParams:function(){return a.useSearchParams}})},51154:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});let a=(0,r(19946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},53999:(t,e,r)=>{"use strict";r.d(e,{$C:()=>u,Ju:()=>c,Vy:()=>l,cn:()=>o,nc:()=>n});var a=r(52596),s=r(39688);function o(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return(0,s.QP)((0,a.$)(e))}function c(t){return Math.floor(Math.random()*t)}function n(t){let e=Math.floor(t/60),r=t%60;return"".concat(e,":").concat(r<10?"0"+r:r)}function l(t){switch(t){case"1":return"Grade 10";case"2":return"Grade 11";case"3":return"Grade 12";default:return""}}function u(t){let e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=r.length;for(let s=0;s<t;s++)e+=r.charAt(Math.floor(Math.random()*a));return e}},70444:(t,e,r)=>{"use strict";r.d(e,{M:()=>s});var a=r(12115);let s=(t,e)=>{let[r,s]=(0,a.useState)(()=>{try{let r=localStorage.getItem(t);return r?JSON.parse(r):e}catch(t){return console.error("Error reading from localStorage:",t),e}});return(0,a.useEffect)(()=>{localStorage.setItem(t,JSON.stringify(r))},[r]),[r,s]}},89892:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>u});var a=r(95155),s=r(51154),o=r(12115),c=r(70444),n=r(31886),l=r(35695);let u=()=>{let[t,e]=(0,c.M)("user",null),r=(0,l.useRouter)();return(0,o.useEffect)(()=>{let a=async()=>{try{let a=await (0,n.He)(null==t?void 0:t.id);e(a),r.back()}catch(t){console.log(t),alert("Activation failed")}};if(!t)throw Error("User not found");a()},[t,e,r]),(0,a.jsx)("div",{className:"flex h-screen w-full place-content-center",children:(0,a.jsxs)("div",{className:"flex flex-1 items-center justify-center",children:[(0,a.jsx)(s.A,{className:"text-primary mr-2 animate-spin"}),(0,a.jsx)("p",{className:"text-primary text-lg font-bold",children:"Activating ..."})]})})}}},t=>{t.O(0,[4277,1445,8441,5964,7358],()=>t(t.s=32936)),_N_E=t.O()}]);