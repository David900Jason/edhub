(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3067],{5186:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var n=r(95155),a=r(12115),l=r(35695),o=r(6874),i=r.n(o),s=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,f=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=a.createContext({}),v=a.forwardRef((e,t)=>{var r,n,l,o,i,{value:s,onChange:v,maxLength:b,textAlign:y="left",pattern:w,placeholder:j,inputMode:S="numeric",onComplete:k,pushPasswordManagerStrategy:E="increase-width",pasteTransformer:P,containerClassName:C,noScriptCSSFallback:M=x,render:_,children:A}=e,N=((e,t)=>{var r={};for(var n in e)p.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&d)for(var n of d(e))0>t.indexOf(n)&&h.call(e,n)&&(r[n]=e[n]);return r})(e,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]);let[R,O]=a.useState("string"==typeof N.defaultValue?N.defaultValue:""),D=null!=s?s:R,T=function(e){let t=a.useRef();return a.useEffect(()=>{t.current=e}),t.current}(D),W=a.useCallback(e=>{null==v||v(e),O(e)},[v]),I=a.useMemo(()=>w?"string"==typeof w?new RegExp(w):w:null,[w]),B=a.useRef(null),F=a.useRef(null),$=a.useRef({value:D,onChange:W,isIOS:"undefined"!=typeof window&&(null==(n=null==(r=null==window?void 0:window.CSS)?void 0:r.supports)?void 0:n.call(r,"-webkit-touch-callout","none"))}),H=a.useRef({prev:[null==(l=B.current)?void 0:l.selectionStart,null==(o=B.current)?void 0:o.selectionEnd,null==(i=B.current)?void 0:i.selectionDirection]});a.useImperativeHandle(t,()=>B.current,[]),a.useEffect(()=>{let e=B.current,t=F.current;if(!e||!t)return;function r(){if(document.activeElement!==e){q(null),Q(null);return}let t=e.selectionStart,r=e.selectionEnd,n=e.selectionDirection,a=e.maxLength,l=e.value,o=H.current.prev,i=-1,s=-1,c;if(0!==l.length&&null!==t&&null!==r){let e=t===r,n=t===l.length&&l.length<a;if(e&&!n){if(0===t)i=0,s=1,c="forward";else if(t===a)i=t-1,s=t,c="backward";else if(a>1&&l.length>1){let e=0;if(null!==o[0]&&null!==o[1]){c=t<o[1]?"backward":"forward";let r=o[0]===o[1]&&o[0]<a;"backward"!==c||r||(e=-1)}i=e+t,s=e+t+1}}-1!==i&&-1!==s&&i!==s&&B.current.setSelectionRange(i,s,c)}let u=-1!==i?i:t,d=-1!==s?s:r,p=null!=c?c:n;q(u),Q(d),H.current.prev=[u,d,p]}if($.current.value!==e.value&&$.current.onChange(e.value),H.current.prev=[e.selectionStart,e.selectionEnd,e.selectionDirection],document.addEventListener("selectionchange",r,{capture:!0}),r(),document.activeElement===e&&V(!0),!document.getElementById("input-otp-style")){let e=document.createElement("style");if(e.id="input-otp-style",document.head.appendChild(e),e.sheet){let t="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";g(e.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),g(e.sheet,`[data-input-otp]:autofill { ${t} }`),g(e.sheet,`[data-input-otp]:-webkit-autofill { ${t} }`),g(e.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),g(e.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let n=()=>{t&&t.style.setProperty("--root-height",`${e.clientHeight}px`)};n();let a=new ResizeObserver(n);return a.observe(e),()=>{document.removeEventListener("selectionchange",r,{capture:!0}),a.disconnect()}},[]);let[z,L]=a.useState(!1),[G,V]=a.useState(!1),[U,q]=a.useState(null),[J,Q]=a.useState(null);a.useEffect(()=>{!function(e){setTimeout(e,0),setTimeout(e,10),setTimeout(e,50)}(()=>{var e,t,r,n;null==(e=B.current)||e.dispatchEvent(new Event("input"));let a=null==(t=B.current)?void 0:t.selectionStart,l=null==(r=B.current)?void 0:r.selectionEnd,o=null==(n=B.current)?void 0:n.selectionDirection;null!==a&&null!==l&&(q(a),Q(l),H.current.prev=[a,l,o])})},[D,G]),a.useEffect(()=>{void 0!==T&&D!==T&&T.length<b&&D.length===b&&(null==k||k(D))},[b,k,T,D]);let X=function({containerRef:e,inputRef:t,pushPasswordManagerStrategy:r,isFocused:n}){let[l,o]=a.useState(!1),[i,s]=a.useState(!1),[c,u]=a.useState(!1),d=a.useMemo(()=>"none"!==r&&("increase-width"===r||"experimental-no-flickering"===r)&&l&&i,[l,i,r]),p=a.useCallback(()=>{let n=e.current,a=t.current;if(!n||!a||c||"none"===r)return;let l=n.getBoundingClientRect().left+n.offsetWidth,i=n.getBoundingClientRect().top+n.offsetHeight/2;0===document.querySelectorAll('[data-lastpass-icon-root],com-1password-button,[data-dashlanecreated],[style$="2147483647 !important;"]').length&&document.elementFromPoint(l-18,i)===n||(o(!0),u(!0))},[e,t,c,r]);return a.useEffect(()=>{let t=e.current;if(!t||"none"===r)return;function n(){s(window.innerWidth-t.getBoundingClientRect().right>=40)}n();let a=setInterval(n,1e3);return()=>{clearInterval(a)}},[e,r]),a.useEffect(()=>{let e=n||document.activeElement===t.current;if("none"===r||!e)return;let a=setTimeout(p,0),l=setTimeout(p,2e3),o=setTimeout(p,5e3),i=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(a),clearTimeout(l),clearTimeout(o),clearTimeout(i)}},[t,n,r,p]),{hasPWMBadge:l,willPushPWMBadge:d,PWM_BADGE_SPACE_WIDTH:"40px"}}({containerRef:F,inputRef:B,pushPasswordManagerStrategy:E,isFocused:G}),K=a.useCallback(e=>{let t=e.currentTarget.value.slice(0,b);if(t.length>0&&I&&!I.test(t))return void e.preventDefault();"string"==typeof T&&t.length<T.length&&document.dispatchEvent(new Event("selectionchange")),W(t)},[b,W,T,I]),Y=a.useCallback(()=>{var e;if(B.current){let t=Math.min(B.current.value.length,b-1),r=B.current.value.length;null==(e=B.current)||e.setSelectionRange(t,r),q(t),Q(r)}V(!0)},[b]),Z=a.useCallback(e=>{var t,r;let n=B.current;if(!P&&(!$.current.isIOS||!e.clipboardData||!n))return;let a=e.clipboardData.getData("text/plain"),l=P?P(a):a;e.preventDefault();let o=null==(t=B.current)?void 0:t.selectionStart,i=null==(r=B.current)?void 0:r.selectionEnd,s=(o!==i?D.slice(0,o)+l+D.slice(i):D.slice(0,o)+l+D.slice(o)).slice(0,b);if(s.length>0&&I&&!I.test(s))return;n.value=s,W(s);let c=Math.min(s.length,b-1),u=s.length;n.setSelectionRange(c,u),q(c),Q(u)},[b,W,I,D]),ee=a.useMemo(()=>({position:"relative",cursor:N.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[N.disabled]),et=a.useMemo(()=>({position:"absolute",inset:0,width:X.willPushPWMBadge?`calc(100% + ${X.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:X.willPushPWMBadge?`inset(0 ${X.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:y,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[X.PWM_BADGE_SPACE_WIDTH,X.willPushPWMBadge,y]),er=a.useMemo(()=>a.createElement("input",c(((e,t)=>{for(var r in t||(t={}))p.call(t,r)&&f(e,r,t[r]);if(d)for(var r of d(t))h.call(t,r)&&f(e,r,t[r]);return e})({autoComplete:N.autoComplete||"one-time-code"},N),u({"data-input-otp":!0,"data-input-otp-placeholder-shown":0===D.length||void 0,"data-input-otp-mss":U,"data-input-otp-mse":J,inputMode:S,pattern:null==I?void 0:I.source,"aria-placeholder":j,style:et,maxLength:b,value:D,ref:B,onPaste:e=>{var t;Z(e),null==(t=N.onPaste)||t.call(N,e)},onChange:K,onMouseOver:e=>{var t;L(!0),null==(t=N.onMouseOver)||t.call(N,e)},onMouseLeave:e=>{var t;L(!1),null==(t=N.onMouseLeave)||t.call(N,e)},onFocus:e=>{var t;Y(),null==(t=N.onFocus)||t.call(N,e)},onBlur:e=>{var t;V(!1),null==(t=N.onBlur)||t.call(N,e)}}))),[K,Y,Z,S,et,b,J,U,N,null==I?void 0:I.source,D]),en=a.useMemo(()=>({slots:Array.from({length:b}).map((e,t)=>{var r;let n=G&&null!==U&&null!==J&&(U===J&&t===U||t>=U&&t<J),a=void 0!==D[t]?D[t]:null;return{char:a,placeholderChar:void 0!==D[0]?null:null!=(r=null==j?void 0:j[t])?r:null,isActive:n,hasFakeCaret:n&&null===a}}),isFocused:G,isHovering:!N.disabled&&z}),[G,z,b,J,U,N.disabled,D]),ea=a.useMemo(()=>_?_(en):a.createElement(m.Provider,{value:en},A),[A,en,_]);return a.createElement(a.Fragment,null,null!==M&&a.createElement("noscript",null,a.createElement("style",null,M)),a.createElement("div",{ref:F,"data-input-otp-container":!0,style:ee,className:C},ea,a.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},er)))});function g(e,t){try{e.insertRule(t)}catch(e){console.error("input-otp could not insert CSS rule:",t)}}v.displayName="Input";var x=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;let b=(0,r(19946).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var y=r(53999);function w(e){let{className:t,containerClassName:r,...a}=e;return(0,n.jsx)(v,{"data-slot":"input-otp",containerClassName:(0,y.cn)("flex items-center gap-2 has-disabled:opacity-50",r),className:(0,y.cn)("disabled:cursor-not-allowed",t),...a})}function j(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"input-otp-group",className:(0,y.cn)("flex items-center",t),...r})}function S(e){var t;let{index:r,className:l,...o}=e,i=a.useContext(m),{char:s,hasFakeCaret:c,isActive:u}=null!=(t=null==i?void 0:i.slots[r])?t:{};return(0,n.jsxs)("div",{"data-slot":"input-otp-slot","data-active":u,className:(0,y.cn)("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",l),...o,children:[s,c&&(0,n.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:(0,n.jsx)("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000"})})]})}function k(e){let{...t}=e;return(0,n.jsx)("div",{"data-slot":"input-otp-separator",role:"separator",...t,children:(0,n.jsx)(b,{})})}var E=r(97168),P=r(5196),C=r(31886),M=r(32997);let _=()=>{let[e,t]=(0,a.useState)(""),r=(0,l.useRouter)(),o=(0,l.useSearchParams)().get("email"),[s,c]=(0,a.useState)(90);(0,a.useEffect)(()=>{let e=setInterval(()=>{s>0?c(e=>e-1):clearInterval(e)},1e3);return()=>clearInterval(e)},[s]);let u=async t=>{if(t.preventDefault(),e.length<6)return alert("Please enter a valid OTP");let n=await (0,C.Gs)(o);if(!n)return alert("User not found");(0,C.FH)(e,o,n),alert("OTP Submitted Successfully"),r.push("/auth/login")};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(M.A,{title:"Verify your account",description:"Enter the Verification Code sent to your phone number on Whatsapp"}),(0,n.jsxs)("form",{onSubmit:u,className:"register-form flex items-center justify-center",children:[(0,n.jsxs)(w,{value:e,onChange:t,maxLength:6,children:[(0,n.jsxs)(j,{children:[(0,n.jsx)(S,{index:0}),(0,n.jsx)(S,{index:1}),(0,n.jsx)(S,{index:2})]}),(0,n.jsx)(k,{}),(0,n.jsxs)(j,{children:[(0,n.jsx)(S,{index:3}),(0,n.jsx)(S,{index:4}),(0,n.jsx)(S,{index:5})]})]}),(0,n.jsx)("div",{className:"flex flex-col items-center justify-center gap-2",children:(0,n.jsxs)("p",{className:"text-center text-sm text-gray-600",children:["Resend OTP in"," ",(0,n.jsx)("span",{className:(0,y.cn)(0===s?"text-red-500":"text-primary"),children:(0,y.nc)(s)})]})}),(0,n.jsxs)("p",{className:"text-center text-sm text-gray-600",children:["Are you a teacher? Please verify your account on Whatsapp"," ",(0,n.jsx)(i(),{href:"tel:+2001093632618",className:"text-primary",children:"here"})]}),(0,n.jsxs)(E.$,{type:"submit",className:"btn btn-primary",children:[(0,n.jsx)(P.A,{})," Verify"]})]})]})},A=()=>(0,n.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-gray-50 p-4",children:(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)("div",{children:"Loading..."}),children:(0,n.jsx)(_,{})})})},5196:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(19946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},31886:(e,t,r)=>{"use strict";r.d(t,{$2:()=>u,FH:()=>s,Gs:()=>i,He:()=>o,_z:()=>p,aR:()=>c,kg:()=>l,lH:()=>d});var n=r(23464),a=r(53999);let l=async e=>{try{let t=await n.A.post("http://localhost:8000/users",{...e,id:(0,a.$C)(6),is_active:!1,is_verified:!1,wallet_balance:0,school_year:(0,a.Vy)(e.school_year),created_at:new Date().toISOString(),notes_id:(0,a.$C)(4),tasks_id:(0,a.$C)(4)}),r=await n.A.post("http://localhost:8000/notes",{id:(0,a.$C)(4),user_id:t.data.id,notes:[]}),l=await n.A.post("http://localhost:8000/tasks",{id:(0,a.$C)(4),user_id:t.data.id,tasks:[]});return console.log(t.data),console.log(r.data),console.log(l.data),t.data}catch(e){return console.error(e),null}},o=async e=>{try{return(await n.A.patch("http://localhost:8000/users/".concat(e),{is_active:!0})).data}catch(e){return console.error(e),null}},i=async e=>{try{return(await n.A.get("http://localhost:8000/users?email=".concat(e))).data[0].id}catch(e){return console.error(e),null}},s=async(e,t,r)=>{try{let e=await n.A.patch("http://localhost:8000/users/".concat(r),{is_verified:!0});console.log(e.data)}catch(e){return console.error(e),null}},c=async e=>{try{return(await n.A.get("http://localhost:8000/courses?id=".concat(e))).data[0]}catch(e){console.error(e);return}},u=async e=>{try{if(""===e)return;return(await n.A.get("http://localhost:8000/users?id=".concat(e,"&role=teacher"))).data[0]}catch(e){console.error(e);return}},d=async e=>{try{return(await n.A.get("http://localhost:8000/enrollments?user_id=".concat(e))).data}catch(e){return console.error(e),null}},p=async e=>{try{return(await n.A.post("http://localhost:8000/messages",e)).data}catch(e){return console.error(e),null}}},32997:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(95155);let a=e=>{let{title:t,description:r}=e;return(0,n.jsxs)("div",{className:"bg-primary sticky top-0 left-0 hidden h-screen flex-1/2 flex-col items-center justify-center gap-4 lg:flex lg:flex-1/2",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold tracking-tighter text-gray-900",children:t}),(0,n.jsx)("p",{className:"p-lead max-w-[35ch] text-center !text-white",children:r})]})}},35695:(e,t,r)=>{"use strict";var n=r(18999);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},53999:(e,t,r)=>{"use strict";r.d(t,{$C:()=>c,Ju:()=>o,Vy:()=>s,cn:()=>l,nc:()=>i});var n=r(52596),a=r(39688);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,n.$)(t))}function o(e){return Math.floor(Math.random()*e)}function i(e){let t=Math.floor(e/60),r=e%60;return"".concat(t,":").concat(r<10?"0"+r:r)}function s(e){switch(e){case"1":return"Grade 10";case"2":return"Grade 11";case"3":return"Grade 12";default:return""}}function c(e){let t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=r.length;for(let a=0;a<e;a++)t+=r.charAt(Math.floor(Math.random()*n));return t}},96964:(e,t,r)=>{Promise.resolve().then(r.bind(r,5186))},97168:(e,t,r)=>{"use strict";r.d(t,{$:()=>s,r:()=>i});var n=r(95155);r(12115);var a=r(99708),l=r(74466),o=r(53999);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function s(e){let{className:t,variant:r,size:l,asChild:s=!1,...c}=e,u=s?a.DX:"button";return(0,n.jsx)(u,{"data-slot":"button",className:(0,o.cn)(i({variant:r,size:l,className:t})),...c})}}},e=>{e.O(0,[4277,1445,9438,8441,5964,7358],()=>e(e.s=96964)),_N_E=e.O()}]);